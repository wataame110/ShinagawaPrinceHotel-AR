# クイックスタートガイド

品川プリンスホテル記念日フォトフレーム撮影システムの簡単なセットアップガイド

---

## 🚀 5分で始める

### 1. ローカルでテストする（開発環境）

#### 方法A: Pythonを使う（推奨）
```bash
# プロジェクトディレクトリに移動
cd /Users/tomoya/Documents/verdent-projects/AR-Web_Photo

# HTTPサーバーを起動
python3 -m http.server 8080
```

ブラウザで `http://localhost:8080` にアクセス

#### 方法B: Node.jsを使う
```bash
# http-serverをインストール（初回のみ）
npm install -g http-server

# サーバーを起動
http-server -p 8080
```

ブラウザで `http://localhost:8080` にアクセス

---

### 2. スマートフォンでテストする

#### ステップ1: PCとスマホを同じWi-Fiに接続

#### ステップ2: PCのIPアドレスを確認
```bash
# Macの場合
ifconfig | grep "inet " | grep -v 127.0.0.1

# 出力例: 192.168.1.100
```

#### ステップ3: スマホのブラウザでアクセス
```
http://192.168.1.100:8080
```

⚠️ **注意**: HTTPではカメラが動作しない可能性があります。本番環境ではHTTPSが必須です。

---

### 3. 本番環境にデプロイする

#### 必要なもの
- Webサーバー（Apache, Nginx, etc.）
- SSL証明書（Let's Encrypt推奨）
- FTPまたはSSHアクセス

#### デプロイ手順
1. 全ファイルをサーバーにアップロード
2. HTTPSを設定
3. ドメインまたはIPでアクセステスト
4. カメラ権限の許可を確認

---

## 📸 使い方（ゲスト向け）

### 基本的な流れ

#### 1. アクセス
QRコードまたはURLからアクセス

#### 2. カメラ権限を許可
初回アクセス時に表示される権限リクエストを「許可」

#### 3. レストラン選択
右上の🖼️ボタンをタップ → レストランを選択

#### 4. 記念日メッセージ入力（任意）
右上の💬ボタンをタップ
- 日付を入力
- メッセージを入力（例: Happy Birthday!）
- 場所を入力（例: 品川プリンスホテル）

#### 5. 撮影
「撮影する」ボタンをタップ → 3秒カウントダウン → 自動撮影

#### 6. 保存
「保存する」ボタンをタップ → 端末に保存完了

---

## 🎨 フレームを追加する

### 準備するもの
1. **フルサイズ画像**: 1920×1080px以上のPNG（透過推奨）
2. **サムネイル画像**: 400×225pxのPNG

### 追加手順

#### ステップ1: 画像を配置
```bash
assets/images/frames/
├── frame5.png          # フルサイズ
└── frame5-thumb.png    # サムネイル
```

#### ステップ2: 設定ファイルを編集
`assets/config/frames-config.json` を開く

```json
{
  "hotelName": "品川プリンスホテル",
  "frames": [
    ...既存のフレーム...,
    {
      "id": "new-restaurant-id",
      "name": "新レストラン短縮名",
      "restaurantName": "新レストランの正式名称",
      "path": "assets/images/frames/frame5.png",
      "thumbnail": "assets/images/frames/frame5-thumb.png",
      "description": "レストランの説明文"
    }
  ]
}
```

#### ステップ3: ブラウザで確認
ページをリロード → フレーム選択に新しいレストランが表示される

---

## 🎯 各レストランごとに専用URLを作る

### 方法: URLパラメータで自動選択（将来実装）

現在の仕様では全レストラン共通のURLですが、以下のような拡張が可能です：

```
https://example.com/?restaurant=hapuna    # ハプナ専用
https://example.com/?restaurant=shiosai   # 潮彩専用
https://example.com/?restaurant=tennouzu  # 天王洲専用
https://example.com/?restaurant=pinfan    # 品芳専用
```

実装方法は `docs/README.md` の「カスタマイズ方法」を参照してください。

---

## ⚙️ 設定ファイルの説明

### frames-config.json

```json
{
  "hotelName": "品川プリンスホテル",  // ホテル名
  "frames": [
    {
      "id": "hapuna",                                    // 一意のID（英数字）
      "name": "ハプナ",                                  // 短縮名（ファイル名に使用）
      "restaurantName": "メインダイニング ハプナ",        // 表示用正式名称
      "path": "assets/images/frames/frame1.png",        // フルサイズ画像パス
      "thumbnail": "assets/images/frames/frame1-thumb.png",  // サムネイルパス
      "description": "洗練された空間で味わう本格料理"    // 説明文（将来使用）
    }
  ]
}
```

### manifest.json（PWA設定）

```json
{
  "name": "フォトフレーム撮影",              // アプリ名
  "short_name": "フォトフレーム",            // 短縮名
  "description": "...",                       // 説明文
  "theme_color": "#D4AF37",                  // テーマカラー（ゴールド）
  "background_color": "#1a2332",             // 背景色（ネイビー）
  ...
}
```

---

## 🐛 デバッグ方法

### ブラウザのコンソールを開く

#### Chrome / Edge
- Windows: `F12` または `Ctrl + Shift + I`
- Mac: `Cmd + Option + I`

#### Safari（iPhone/Mac）
1. 設定 → Safari → 詳細 → Webインスペクタを有効化
2. Mac Safari → 開発 → iPhoneを選択

### よくあるエラー

#### カメラが起動しない
```
NotAllowedError: Permission denied
→ カメラ権限を許可してください
```

#### 画像が保存できない
```
SecurityError: Failed to execute 'toDataURL' on 'HTMLCanvasElement'
→ HTTPS環境で実行してください
```

#### フレームが表示されない
```
404 Not Found: frame1.png
→ 画像ファイルのパスを確認してください
```

---

## 📞 困ったときは

1. **コンソールを確認**: エラーメッセージを確認
2. **キャッシュをクリア**: ブラウザのキャッシュを削除
3. **README参照**: `docs/README.md` のトラブルシューティング
4. **開発チームに連絡**: 技術サポートまで

---

## ✅ チェックリスト

### デプロイ前
- [ ] 全ファイルがアップロードされている
- [ ] HTTPSが設定されている
- [ ] フレーム画像が正しく配置されている
- [ ] frames-config.jsonが正しく設定されている
- [ ] カメラがテスト撮影できる
- [ ] 画像が保存できる

### 運用開始前
- [ ] スタッフ向けマニュアル作成
- [ ] QRコード作成
- [ ] テスト撮影実施（全レストラン）
- [ ] 各レストランへの案内設置

---

**Happy Shooting! 📸✨**

---

## 📝 記念日メッセージのカスタマイズ

### デフォルト設定
撮影時に以下の情報が自動的に印字されます：

- **日付**: 今日の日付（自動設定）
- **メッセージ**: 「記念日おめでとうございます」
- **場所**: 「品川プリンスホテル　{レストラン名}」（自動設定）

### 各項目の表示/非表示切り替え

#### 方法
1. 撮影画面で右上の💬ボタンをタップ
2. 各項目の右側にある「表示」チェックボックスで ON/OFF 切り替え
   - ✅ = 表示する
   - ☐ = 非表示にする

#### 例
```
✅ 日付表示      → 2026年2月19日
✅ メッセージ表示  → 記念日おめでとうございます
☐ 場所表示      → （非表示）
```

### 場所の編集方法

#### デフォルト
- 場所は「品川プリンスホテル　{レストラン名}」で自動設定
- 読み取り専用（グレー表示）

#### 編集手順
1. 💬ボタンをタップしてメッセージ編集パネルを開く
2. 場所欄の右側「編集」ボタンをタップ
3. 入力欄が編集可能になる
4. 任意のテキストに変更可能
5. 「固定」ボタンをタップして保護

#### 注意
- 編集後、再度ログインすると元の自動設定に戻ります
- レストランごとに固定の場所表示が望ましい場合は、`assets/config/restaurants.json` を編集してください

### メッセージのカスタマイズ

#### よく使うメッセージ例
- 「お誕生日おめでとうございます」
- 「ご結婚おめでとうございます」
- 「〇周年記念」
- 「Happy Anniversary」
- 「Special Memory」

#### 文字数制限
- メッセージ: 最大40文字
- 場所: 最大30文字（編集時）

---

**最終更新日**: 2026年2月19日
